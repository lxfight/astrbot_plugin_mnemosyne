{
    "LLM_providers":{
        "description":"记忆总结使用的LLM服务商ID",
        "type":"string"
    },
    "milvus_lite_path":{
        "description":"Milvus数据库的lite模式路径",
        "type":"string",
        "hint":"仅当选择 Milvus 时有效。相对路径将基于插件数据目录。只使用milvus_lite_path或者address其中一个即可，milvus_lite_path优先级较高",
        "obvious_hint":true,
        "default":""
    },
    "address":{
        "description":"Milvus数据库地址",
        "type":"string",
        "hint":"仅当选择 Milvus 时有效。支持格式如:http://localhost:19530，https://localhost:19530，localhost:19530",
        "obvious_hint":true,
        "default":""
    },
    "authentication":{
        "description":"Milvus数据库的认证信息",
        "type":"object",
        "hint":"仅当选择 Milvus 时有效。如果milvus开启了服务器认证，请填写对应的信息",
        "obvious_hint":true,
        "items":{
            "token":{
                "description":"milvus数据库的认证token",
                "type":"string",
                "hint":"token优先于账户密码",
                "obvious_hint":true
            },
            "user":{
                "description":"milvus数据库的认证用户名",
                "type":"string"
            },
            "password":{
                "description":"milvus数据库的认证密码",
                "type":"string"
            }
        }
    },
    "vector_database_type":{
        "description":"向量数据库类型",
        "type":"string",
        "options":["milvus", "faiss"],
        "hint":"选择向量数据库后端：Milvus（支持分布式）或 FAISS（本地高性能）",
        "obvious_hint":true,
        "default":"milvus"
    },
    "faiss_config":{
        "description":"Faiss 数据库相关配置",
        "type":"object",
        "hint":"仅当选择 FAISS 时有效",
        "obvious_hint":true,
        "items":{
            "faiss_data_path":{
                "description":"FAISS数据存储路径",
                "type":"string",
                "hint":"相对路径将基于插件数据目录，绝对路径将直接使用",
                "obvious_hint":true,
                "default":"faiss_data"
            },
            "faiss_index_type":{
                "description":"FAISS索引类型",
                "type":"string",
                "options":["IndexFlatL2", "IndexFlatIP", "IndexIVFFlat", "IndexHNSWFlat"],
                "hint":"IndexFlatL2(精确搜索)，IndexIVFFlat(快速搜索)，IndexHNSWFlat(高性能)",
                "obvious_hint":true,
                "default":"IndexHNSWFlat"
            },
            "faiss_nlist":{
                "description":"FAISS IVF索引的聚类中心数量",
                "type":"int",
                "hint":"仅当选择 IndexIVFFlat 时有效。数值越大搜索越精确但速度越慢",
                "obvious_hint":true,
                "default":100
            }
        }
    },
    "summary_check_task":{
        "description":"自动总结计时器设置",
        "type":"object",
        "hint":"实验性功能，当长时间不和bot说话时，会进行消息总结",
        "obvious_hint":true,
        "items":{
            "SUMMARY_CHECK_INTERVAL_SECONDS":{
                "description":"计时器间隔时间（秒）",
                "type":"int",
                "hint":"默认以每60秒（1分钟）进行检查一次，如果阈值设置为1小时，设置为10分钟应该也没有问题",
                "obvious_hint":true,
                "default":60
            },
            "SUMMARY_TIME_THRESHOLD_SECONDS":{
                "description":"计时器总结阈值（秒）",
                "type":"int",
                "hint":"默认是3600秒（1小时），设置为-1关闭该功能，每个人与BOT的聊天频率是不同的，按个人需求进行设置",
                "obvious_hint":true,
                "default":-1
            }
        }
    },
    "collection_name":{
        "description":"向量数据库的集合名称",
        "type":"string",
        "hint":"长期记忆存储在向量数据库的哪个集合中,请使用英文命名",
        "obvious_hint":true,
        "default":"default"
    },
    "use_personality_filtering":{
        "description":"记忆查询时是否使用人格过滤",
        "type":"bool",
        "default":true
    },
    "num_pairs":{
        "description":"记忆总结的对话长度",
        "type":"int",
        "hint":"一问一答长度为2，对话长度达到这个阈值时会进行记忆总结",
        "obvious_hint":false,
        "default":10
    },
    "embedding_provider_id":{
        "description":"AstrBot原生嵌入服务提供商ID",
        "type":"string",
        "hint":"优先使用AstrBot配置的嵌入服务。如果留空，将使用下面的传统配置",
        "obvious_hint":true,
        "default":""
    },
    "embedding_service": {
        "description": "传统嵌入服务提供商 (openai 或 gemini)",
        "type": "string",
        "options": ["openai", "gemini"],
        "hint":"仅当未配置embedding_provider_id时使用",
        "default": "openai"
    },
    "embedding_key":{
        "description":"传统embedding模型服务的apikey",
        "type":"string",
        "hint":"仅当未配置embedding_provider_id时使用",
        "obvious_hint":false
    },
    "embedding_url":{
        "description":"传统embedding模型服务的端点url",
        "type":"string",
        "hint":"仅当未配置embedding_provider_id时使用。目前只针对于OpenAI兼容的接口，填写到V1即可。如选择Gemini，则不填写",
        "obvious_hint":true
    },
    "embedding_model":{
        "description":"传统embedding模型模型名称",
        "type":"string",
        "hint":"仅当未配置embedding_provider_id时使用"
    },
    "embedding_dim":{
        "description":"向量模型输出的维度",
        "type":"int",
        "hint":"注意！这个维度大小最好不要随意变动，如果一定要改变向量维度，请修改collection_name。Gemini修改为3072",
        "obvious_hint":true,
        "default":1024
    },
    "top_k":{
        "description":"返回的长期记忆的数量",
        "type":"int",
        "default":3
    },
    "contexts_memory_len": {
        "description":"历史上下文中保留的长期记忆数量",
        "type":"int",
        "hint":"小于0表示完全保留，大于等于0表示保留最新的对应条",
        "obvious_hint":true,
        "default":0
    },
    "memory_injection_method":{
        "description":"记忆插入方式",
        "type":"string",
        "hint":"user_prompt 会嵌入到用户消息的最前面，system_prompt会嵌入到系统消息中，insert_system_prompt会向上下文列表中添加一条新的系统消息",
        "options": ["user_prompt", "system_prompt", "insert_system_prompt"],
        "default": "user_prompt"
    },
    "long_memory_prompt":{
        "description":"对话总结提示词",
        "type":"string",
        "default":"请基于以下对话内容生成一段连贯的总结性文字，要求：1. 使用单段自然语言表述，不加序号或分点；2. 聚焦提取核心要素，包括但不限于参与者身份（姓名/角色）、核心事件、关键时间节点、特殊需求、争议点及解决方案；3. 保留涉及金额/数量/规格等量化信息；4.不输出多余的解释性内容；5. 用简洁书面语整合信息，确保信息完整准确。注意：避免添加解释性内容，仅客观呈现对话要素的整合结果。6.以AI的第一人称视角记录信息"
    }
}